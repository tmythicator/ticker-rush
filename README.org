#+TITLE: TickerRush
#+AUTHOR: Alexandr Timchenko
#+OPTIONS: toc:nil num:nil

#+CAPTION: Ticker Rush Overview
#+ATTR_HTML: :width 100%
[[./assets/ticker-rush.png]]

* Overview
Ticker Rush is a high-performance, real-time stock trading simulator with gamification elements.
Participants start with equal virtual budgets and compete by trading stocks and ETFs against each other and an autonomous AI agent.

The goal: maximize portfolio profit and climb the global leaderboard within a specific ladder season.

* Architecture
The project follows a polyglot microservices architecture to demonstrate scalability and modern engineering practices:

- *Frontend*: React 19, TypeScript, Vite, Tailwind CSS, Lightweight Charts v5.
- *Backend:* Go (Golang) + Gin Framework. Implements a "Producer-Consumer" pattern:
  - *Worker:* Background process that polls Finnhub API (respecting rate limits) and writes to cache.
  - *API:* HTTP handler serving data from memory.
- *Data Layer:* Valkey (Open Source Redis fork) for caching hot market data.
- *AI Agent:* (Planned) Python service for automated trading strategies.

* Status
*Phase 1 Complete: Real-Time Data Pipeline*
- [X] Live market data streaming (Finnhub API integration)
- [X] In-memory caching layer (Valkey)
- [X] "Safe Mode" rate limiting implementation (3s interval)
- [X] Interactive Frontend Terminal with dynamic ticker switching

* Roadmap
- [ ] *Phase 2: Gamification*
  - [ ] Leaderboard system
  - [ ] User Profiles & Transaction History
  - [ ] Python AI Agent logic (Random Walk / Moving Average)
- [ ] *Phase 3: Production Ready*
  - [ ] Docker Compose orchestration
  - [ ] Unit & Integration Tests
  - [ ] CI/CD Pipelines

* Quick Start
** Prerequisites
- *Production*: Docker + Docker Compose
- *Development*: Nix (with flakes enabled)
- Finnhub.io API Key (Free)

** 1. Production (Docker)
The easiest way to run the full stack (Frontend + Backend + Database) is via Docker Compose.

1. Create a =.env= file in the root directory:
   #+BEGIN_SRC bash
   cp .env-example .env
   # Edit .env and add your FINNHUB_API_KEY
   #+END_SRC

2. Start the application:
   #+BEGIN_SRC bash
   docker-compose up -d --build
   #+END_SRC

3. Access the application:
   - Frontend: http://localhost:5173
   - Backend API: http://localhost:8081

** 2. Development (Nix + Flakes)
For a reproducible development environment, we use Nix.

1. Enter the development shell:
   #+BEGIN_SRC bash
   nix develop
   #+END_SRC
   This will install Go, Node.js, Valkey, and other dependencies.

2. Create a =.env= file (if not already created):
   #+BEGIN_SRC bash
   cp .env-example .env
   # Edit .env and add your FINNHUB_API_KEY
   #+END_SRC

3. Start the development stack:
   #+BEGIN_SRC bash
   process-compose up
   #+END_SRC
   This starts the Backend (Exchange & Fetcher), Frontend (Vite), and Valkey database.

** 3. Manual Setup (No Nix)
If you prefer not to use Nix, you can run the services manually in separate terminals.

*** Prerequisites
- Go 1.23+
- Node.js 18+
- Valkey (or Redis) installed and running

*** Steps
1. *Start Valkey/Redis*:
   Ensure your Redis server is running on port 6379 (default).

2. *Configure Environment*:
   Create a =.env= file in the root directory:
   #+BEGIN_SRC bash
   cp .env-example .env
   # Edit .env and add your FINNHUB_API_KEY
   #+END_SRC

3. *Run Backend Services*:
   Open two terminals for the backend services.

   *Terminal A (Fetcher):*
   #+BEGIN_SRC bash
   cd backend
   go run ./cmd/fetcher
   #+END_SRC

   *Terminal B (Exchange):*
   #+BEGIN_SRC bash
   cd backend
   go run ./cmd/exchange
   #+END_SRC

4. *Run Frontend*:
   Open a third terminal for the frontend.
   #+BEGIN_SRC bash
   cd frontend
   pnpm install
   pnpm run dev
   #+END_SRC
   *Note:* pnpm disables postinstall scripts by default for security.

* License
Apache License 2.0 â€” see =LICENSE= and =NOTICE=.
